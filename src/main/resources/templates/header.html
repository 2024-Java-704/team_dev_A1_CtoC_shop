<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link rel="stylesheet" type="text/css" href="/css/headerFooter.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
	<input type="hidden" th:value="${@account.userStatus}" name="userStatus">
	<header id="Header">
		<div class="sitetitle">
			<h1>A大学教科書売買</h1>

			<p class="logout"><a href="#" id="logout"><span>ログアウト</span></a><br></p>
		</div>

		<br>

		<div id="header">
			<a href="/home" class="menu">商品一覧</a><a href="/item/add" th:if="!${@account.userStatus == 1}"
				class="menu">出品申請</a><a href="/account" th:if="!${@account.userStatus == 1}" class="menu">マイページ</a><a
				href="/bbs" class="menu">掲示板</a><a href="/Notice" th:if="!${@account.userStatus == 1}"
				class="menu">通知<span th:if="!${@account.noticeCount == 0}" style="color: red;">!</span></a><a
				href="/admin/claim" th:if="${@account.userStatus == 1}" class="menu">問い合わせ確認<span
					th:if="!${@account.claimCount == 0}" style="color: red;">!</span></a><a href="/admin"
				th:if="${@account.userStatus == 1}" class="menu">管理者画面</a>
		</div>
	</header>

	<!-- モーダルウィンドウ -->
	<div id="logoutModal" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<span class="close" id="closeModal">&times;</span>
				<h2>確認</h2>
			</div>
			<div class="modal-body">
				<p>本当にログアウトしますか？</p>
			</div>
			<div class="modal-footer">
				<button id="confirmLogout" class="logoutbutton">ログアウト</button>
				<button id="cancelLogout" class="cancelbutton">キャンセル</button>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		document.getElementById('logout').onclick = function () {
			document.getElementById('logoutModal').style.display = "block";
		};

		document.getElementById('closeModal').onclick = function () {
			document.getElementById('logoutModal').style.display = "none";
		};

		document.getElementById('cancelLogout').onclick = function () {
			document.getElementById('logoutModal').style.display = "none";
		};

		document.getElementById('confirmLogout').onclick = function () {
			window.location.href = "/";
		};

		window.onclick = function (event) {
			if (event.target == document.getElementById('logoutModal')) {
				document.getElementById('logoutModal').style.display = "none";
			}
		};
	</script>

	<script type="text/javascript">
		$(document).ready(function () {
			function modeCheck() {
				var mode = document.getElementsByName('userStatus')[0].value;
				let p1_element = document.getElementById("Header");

				if (mode == 1) {
					p1_element.classList.add("admin");
				}
			}
			modeCheck();
		});
	</script>
</body>

</html>